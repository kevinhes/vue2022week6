(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5daa8ebb"],{"00b4":function(t,e,n){"use strict";n("ac1f");var a=n("23e7"),c=n("da84"),r=n("c65b"),o=n("e330"),s=n("1626"),l=n("861d"),i=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=c.Error,d=o(/./.test);a({target:"RegExp",proto:!0,forced:!i},{test:function(t){var e=this.exec;if(!s(e))return d(this,t);var n=r(e,this,t);if(null!==n&&!l(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"0b42":function(t,e,n){var a=n("da84"),c=n("e8b5"),r=n("68ee"),o=n("861d"),s=n("b622"),l=s("species"),i=a.Array;t.exports=function(t){var e;return c(t)&&(e=t.constructor,r(e)&&(e===i||c(e.prototype))?e=void 0:o(e)&&(e=e[l],null===e&&(e=void 0))),void 0===e?i:e}},"107c":function(t,e,n){var a=n("d039"),c=n("da84"),r=c.RegExp;t.exports=a((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1961:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c={class:"container"},r=Object(a["f"])("h1",{class:"text-center"},"購物車",-1),o={class:"text-end"},s={class:"table align-middle"},l=Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th"),Object(a["f"])("th",null,"品名"),Object(a["f"])("th",{style:{width:"150px"}},"數量/單位"),Object(a["f"])("th",null,"單價")])],-1),i=["onClick"],u={class:"fas fa-spinner fa-pulse"},d=Object(a["g"])(" x "),f={class:"input-group input-group-sm"},b={class:"input-group mb-3"},p=["onUpdate:modelValue","onChange"],h={class:"input-group-text",id:"basic-addon2"},m={class:"text-end"},v={key:1,class:"h1 py-5"},O=Object(a["f"])("td",{colspan:"3",class:"text-end"},"總計",-1),j={class:"text-end"},g={class:"my-5 row justify-content-center"},x={class:"mb-3"},y=Object(a["f"])("label",{for:"email",class:"form-label"},"Email",-1),I={class:"mb-3"},C=Object(a["f"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),E={class:"mb-3"},w=Object(a["f"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),k={class:"mb-3"},D=Object(a["f"])("label",{for:"address",class:"form-label"},"收件人地址",-1),V={class:"mb-3"},R=Object(a["f"])("label",{for:"message",class:"form-label"},"留言",-1),S=Object(a["f"])("div",{class:"text-end"},[Object(a["f"])("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function A(t,e,n,A,U,_){var $,q=Object(a["E"])("Field"),T=Object(a["E"])("error-message"),K=Object(a["E"])("Form");return Object(a["w"])(),Object(a["e"])("div",c,[r,Object(a["f"])("div",o,[Object(a["f"])("button",{class:"btn btn-outline-danger",type:"button",onClick:e[0]||(e[0]=function(){return _.delAllCart&&_.delAllCart.apply(_,arguments)})},"清空購物車")]),Object(a["f"])("table",s,[l,Object(a["f"])("tbody",null,[null!==($=U.cartsData.carts)&&void 0!==$&&$.length?(Object(a["w"])(!0),Object(a["e"])(a["a"],{key:0},Object(a["D"])(U.cartsData.carts,(function(t,e){return Object(a["w"])(),Object(a["e"])("tr",{key:t.id},[Object(a["f"])("td",null,[Object(a["f"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return _.delCartItem(t.id)}},[Object(a["Q"])(Object(a["f"])("i",u,null,512),[[a["L"],U.isLoading]]),d],8,i)]),Object(a["f"])("td",null,Object(a["H"])(t.product.title),1),Object(a["f"])("td",null,[Object(a["f"])("div",f,[Object(a["f"])("div",b,[Object(a["Q"])(Object(a["f"])("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":function(t){return U.cartsData.carts[e].qty=t},onChange:function(e){return _.changeCartNum(t.id,t.product_id,t.qty)}},null,40,p),[[a["K"],U.cartsData.carts[e].qty]]),Object(a["f"])("span",h,Object(a["H"])(t.product.unit),1)])])]),Object(a["f"])("td",m,Object(a["H"])(t.final_total),1)])})),128)):(Object(a["w"])(),Object(a["e"])("p",v,"請將商品加入購物車"))]),Object(a["f"])("tfoot",null,[Object(a["f"])("tr",null,[O,Object(a["f"])("td",j,Object(a["H"])(U.cartsData.final_total),1)])])]),Object(a["f"])("div",g,[Object(a["h"])(K,{ref:"form",class:"col-md-6",onSubmit:_.onSubmit},{default:Object(a["P"])((function(t){var n=t.errors;return[Object(a["f"])("div",x,[y,Object(a["h"])(q,{id:"email",name:"email",type:"email",class:Object(a["p"])(["form-control",{"is-invalid":n["email"]}]),rules:"email|required",placeholder:"請輸入 Email",modelValue:U.userInfo.data.user.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return U.userInfo.data.user.email=t})},null,8,["class","modelValue"]),Object(a["h"])(T,{name:"email",class:"invalid-feedback"})]),Object(a["f"])("div",I,[C,Object(a["h"])(q,{id:"name",name:"姓名",type:"text",class:Object(a["p"])(["form-control",{"is-invalid":n["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:U.userInfo.data.user.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return U.userInfo.data.user.name=t})},null,8,["class","modelValue"]),Object(a["h"])(T,{name:"姓名",class:"invalid-feedback"})]),Object(a["f"])("div",E,[w,Object(a["h"])(q,{id:"tel",name:"電話",type:"text",class:Object(a["p"])(["form-control",{"is-invalid":n["電話"]}]),rules:_.isPhone,placeholder:"請輸入電話",modelValue:U.userInfo.data.user.tel,"onUpdate:modelValue":e[3]||(e[3]=function(t){return U.userInfo.data.user.tel=t})},null,8,["class","rules","modelValue"]),Object(a["h"])(T,{name:"電話",class:"invalid-feedback"})]),Object(a["f"])("div",k,[D,Object(a["h"])(q,{id:"address",name:"地址",type:"text",class:Object(a["p"])(["form-control",{"is-invalid":n["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:U.userInfo.data.user.address,"onUpdate:modelValue":e[4]||(e[4]=function(t){return U.userInfo.data.user.address=t})},null,8,["class","modelValue"]),Object(a["h"])(T,{name:"地址",class:"invalid-feedback"})]),Object(a["f"])("div",V,[R,Object(a["Q"])(Object(a["f"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[5]||(e[5]=function(t){return U.userInfo.data.message=t})},null,512),[[a["K"],U.userInfo.data.message]])]),S]})),_:1},8,["onSubmit"])])])}n("99af"),n("ac1f"),n("00b4");var U={data:function(){return{cartsData:{},isLoading:!1,userInfo:{data:{user:{name:"",email:"",tel:"",address:""},message:""}}}},methods:{getCartsData:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart")).then((function(e){t.cartsData=e.data.data})).catch((function(t){console.log(t)}))},delCartItem:function(t){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart/").concat(t)).then((function(){e.getCartsData()})).catch((function(t){console.log(t)}))},delAllCart:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/carts")).then((function(){t.getCartsData()})).catch((function(t){console.log(t)}))},changeCartNum:function(t,e,n){var a=this,c={data:{product_id:e,qty:n}};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart/").concat(t),c).then((function(){a.getCartsData()})).catch((function(t){console.log(t)}))},isPhone:function(t){var e=/^(09)[0-9]{8}$/;return!!e.test(t)||"需要正確的電話號碼"},onSubmit:function(){var t=this;this.$http.post("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/order"),this.userInfo).then((function(e){alert(e.data.message),t.getCartsData()})).catch((function(t){console.log(t)}))}},mounted:function(){this.getCartsData()}},_=n("6b0d"),$=n.n(_);const q=$()(U,[["render",A]]);e["default"]=q},"1dde":function(t,e,n){var a=n("d039"),c=n("b622"),r=n("2d00"),o=c("species");t.exports=function(t){return r>=51||!a((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var a=n("0b42");t.exports=function(t,e){return new(a(t))(0===e?0:e)}},8418:function(t,e,n){"use strict";var a=n("a04b"),c=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var o=a(e);o in t?c.f(t,o,r(0,n)):t[o]=n}},9263:function(t,e,n){"use strict";var a=n("c65b"),c=n("e330"),r=n("577e"),o=n("ad6d"),s=n("9f7f"),l=n("5692"),i=n("7c73"),u=n("69f3").get,d=n("fce3"),f=n("107c"),b=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,h=p,m=c("".charAt),v=c("".indexOf),O=c("".replace),j=c("".slice),g=function(){var t=/a/,e=/b*/g;return a(p,t,"a"),a(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),x=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=g||y||x||d||f;I&&(h=function(t){var e,n,c,s,l,d,f,I=this,C=u(I),E=r(t),w=C.raw;if(w)return w.lastIndex=I.lastIndex,e=a(h,w,E),I.lastIndex=w.lastIndex,e;var k=C.groups,D=x&&I.sticky,V=a(o,I),R=I.source,S=0,A=E;if(D&&(V=O(V,"y",""),-1===v(V,"g")&&(V+="g"),A=j(E,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==m(E,I.lastIndex-1))&&(R="(?: "+R+")",A=" "+A,S++),n=new RegExp("^(?:"+R+")",V)),y&&(n=new RegExp("^"+R+"$(?!\\s)",V)),g&&(c=I.lastIndex),s=a(p,D?n:I,A),D?s?(s.input=j(s.input,S),s[0]=j(s[0],S),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:g&&s&&(I.lastIndex=I.global?s.index+s[0].length:c),y&&s&&s.length>1&&a(b,s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&k)for(s.groups=d=i(null),l=0;l<k.length;l++)f=k[l],d[f[0]]=s[f[1]];return s}),t.exports=h},"99af":function(t,e,n){"use strict";var a=n("23e7"),c=n("da84"),r=n("d039"),o=n("e8b5"),s=n("861d"),l=n("7b0b"),i=n("07fa"),u=n("8418"),d=n("65f0"),f=n("1dde"),b=n("b622"),p=n("2d00"),h=b("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",O=c.TypeError,j=p>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=f("concat"),x=function(t){if(!s(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},y=!j||!g;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,a,c,r,o=l(this),s=d(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?o:arguments[e],x(r)){if(c=i(r),f+c>m)throw O(v);for(n=0;n<c;n++,f++)n in r&&u(s,f,r[n])}else{if(f>=m)throw O(v);u(s,f++,r)}return s.length=f,s}})},"9f7f":function(t,e,n){var a=n("d039"),c=n("da84"),r=c.RegExp,o=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||a((function(){return!r("a","y").sticky})),l=o||a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:s,UNSUPPORTED_Y:o}},ac1f:function(t,e,n){"use strict";var a=n("23e7"),c=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var a=n("83ab"),c=n("5e77").EXISTS,r=n("e330"),o=n("9bf2").f,s=Function.prototype,l=r(s.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(i.exec),d="name";a&&!c&&o(s,d,{configurable:!0,get:function(){try{return u(i,l(this))[1]}catch(t){return""}}})},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fce3:function(t,e,n){var a=n("d039"),c=n("da84"),r=c.RegExp;t.exports=a((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-5daa8ebb.7863ba16.js.map